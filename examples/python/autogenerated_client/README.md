## Autogenerated client using openapi-python-client
https://github.com/openapi-generators/openapi-python-client?tab=readme-ov-file

### Generate the client
0. Install the client generator according to the [instructions](https://github.com/openapi-generators/openapi-python-client?tab=readme-ov-file#installation).
  The client generator itself is a python package with a CLI interface. Note that this is a one-time step.
1. Activate the `venv` in which the client generator is installed:
  ```console
  $ source .venv/bin/activate
  ```
2. The client generator will create a new python package with a boptest client. Make sure to adjust the URL and/or paths.
  If you have a local instance of BOPTEST running:
  ```console
  (my-venv)$ openapi-python-client generate --url http://localhost:8000/openapi.yaml --output-path ../boptest-controller-project
  ```
  **Notes**:
  * You can also use `--path` instead of `--url` if you have a local copy of the `openapi.yaml` file.
  * Once deployed on the public BOPTEST service instance, the URL value can be replaced with `http://api.boptest.net/openapi.yaml`.

### Use the client
1. Change directory and activate the new `venv`
  ```console
  (my-env)$ cd ../boptest-controller-project
  (my-env)$ source .venv/bin/activate
  (boptest-service-api-client)$
  ```
  **Good to know**: In the autogenerated client, each operation like `POST /advance/{test_id}` becomes a *module* (in this case `post_advance_testid`).
  Each module has a blocking function `module_name.sync(...)` for "normal" code, and a coroutine `module_name.async(...)` for asynchonous execution.
1. Create a python controller script that interacts with BOPTEST.
  The file `usage.py` gives some examples to get you started.
  Don't forget to add other python packages required for your controller (`numpy`, `pandas`, ...) to the `venv`.
1. Run the controller:
  ```console
  (boptest-service-api-client)$ python ./usage.py
  ````
