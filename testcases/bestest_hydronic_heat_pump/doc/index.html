<html>
<p>
This is a single zone residential hydronic system model with an air-source
heat pump and floor heating for WP 1.2 of IBPSA project 1.
</p>
<h3>Building Design and Use</h3>
<h4>Architecture</h4>
<p>
This model represents a simplified residential dwelling for a family of 5 members.
The building envelope model is based on the BESTEST case 900 test case.
The envelope model is therefore similar to the one used in
IDEAS.Examples.IBPSA.SingleZoneResidentialHydronic
but it is scaled to an area that is 4 times larger. Particularly, the model consists
of a single zone with a rectangular floor plan of 12 by 16 meters and a
height of 2.7 m. The internal wall mass is modelled using a single wall with a
a length that equals three times the building width plus two times the building length.
This assumes that there are around 12 rooms in the building.
The zone further consists of several south-oriented windows,
which are modelled using a single window of 24 m2.
</p>
<h4>Constructions</h4>
<p><b>Exterior walls</b> </p>
<p>
The walls are modelled using
IDEAS.Buildings.Components.OuterWall and consist of the following layers:
</p>
<table cellspacing=\"2\" cellpadding=\"0\" border=\"0\" summary=\"Layers\">
<tr>
<td><h4>Name</h4></td>
<td><h4>Thickness [m]</h4></td>
<td><h4>Thermal Conductivity [W/m-K]</h4></td>
<td><h4>Specific Heat Capacity [J/kg-K]</h4></td>
<td><h4>Density [kg/m3]</h4></td>
</tr>
<tr>
<td><p>Layer 1 (wood siding)</p></td>
<td><p>0.009</p></td>
<td><p>0.14</p></td>
<td><p>900</p></td>
<td><p>530</p></td>
</tr>
<tr>
<td><p>Layer 2 (insulation)</p></td>
<td><p>0.0615</p></td>
<td><p>0.04</p></td>
<td><p>1400</p></td>
<td><p>10</p></td>
</tr>
<tr>
<td><p>Layer 3 (concrete block)</p></td>
<td><p>0.1</p></td>
<td><p>0.51</p></td>
<td><p>1000</p></td>
<td><p>1400</p></td>
</tr>
</table>
<p><b>Floor</b> </p>
<p>
The floor is modelled using
IDEAS.Buildings.Components.SlabOnGround
IDEAS.Buildings.Components.SlabOnGround and consists of the following layers:
</p>
<table cellspacing=\"2\" cellpadding=\"0\" border=\"0\" summary=\"Layers\">
<tr>
<td><h4>Name</h4></td>
<td><h4>Thickness [m]</h4></td>
<td><h4>Thermal Conductivity [W/m-K]</h4></td>
<td><h4>Specific Heat Capacity [J/kg-K]</h4></td>
<td><h4>Density [kg/m3]</h4></td>
</tr>
<tr>
<td><p>Layer 1 (concrete)</p></td>
<td><p>0.15</p></td>
<td><p>1.4</p></td>
<td><p>840</p></td>
<td><p>2100</p></td>
</tr>
<tr>
<td><p>Layer 2 (insulation)</p></td>
<td><p>0.20</p></td>
<td><p>0.02</p></td>
<td><p>1470</p></td>
<td><p>30</p></td>
</tr>
<tr>
<td><p>Layer 3 (screed)</p></td>
<td><p>0.05</p></td>
<td><p>0.6</p></td>
<td><p>840</p></td>
<td><p>1100</p></td>
</tr>
<tr>
<td><p>Layer 4 (tile)</p></td>
<td><p>0.01</p></td>
<td><p>1.4</p></td>
<td><p>840</p></td>
<td><p>2100</p></td>
</tr>
</table>
<p><b>Roof</b> </p>
<p>
The roof is modelled using
IDEAS.Buildings.Components.OuterWall and consist of the following layers:
</p>
<table cellspacing=\"2\" cellpadding=\"0\" border=\"0\" summary=\"Layers\">
<tr>
<td><h4>Name</h4></td>
<td><h4>Thickness [m]</h4></td>
<td><h4>Thermal Conductivity [W/m-K]</h4></td>
<td><h4>Specific Heat Capacity [J/kg-K]</h4></td>
<td><h4>Density [kg/m3]</h4></td>
</tr>
<tr>
<td><p>Layer 1 (roof deck)</p></td>
<td><p>0.019 </p></td>
<td><p>0.14 </p></td>
<td><p>900 </p></td>
<td><p>530 </p></td>
</tr>
<tr>
<td><p>Layer 2 (fiber glass)</p></td>
<td><p>0.1118</p></td>
<td><p>0.04</p></td>
<td><p>840</p></td>
<td><p>12</p></td>
</tr>
<tr>
<td><p>Layer 3 (plaster board)</p></td>
<td><p>0.01</p></td>
<td><p>0.16</p></td>
<td><p>840</p></td>
<td><p>950</p></td>
</tr>
</table>
<h4>Occupancy schedules</h4>
<p>
The zone is occupied by 5 people before 7 am and after 8 pm each weekday and
full time during weekends.
</p>
<h4>Internal loads and schedules</h4>
<p>
There are no internal loads other than the occupants.
</p>

<h4>Climate data</h4>
<p>
The model uses a climate file containing one year of weather data for Brussels,
Belgium.
</p>

<h3>HVAC System Design</h3>
<h4>Primary and secondary system designs</h4>
<p>
An air-to-water modulating heat pump of 15 kW nominal heating capacity
extracts energy from the ambient air to heat up the floor heating emission
system, as shown in Figure 1 below.
A fan blows ambient air through the heat pump evaporator
when the heat pump is operating.
The floor heating system injects heat between
Layer 2 (insulation) and Layer 3 (screed), with water as
working fluid. The floor heating pump has a nominal mass flow rate of 0.5 kg/s when the heat pump
is working.
</p>

<p>
<br>
</p>

</p>
<p align=\"center\">
<img src="images/SingleZoneResidentialHydronicHeatPump_Schematic.png" alt=\"image\"/>
<figcaption><small>Figure 1: System schematic.</small></figcaption>
</p>

<p>
<br>
</p>

<h4>Equipment specifications and performance maps</h4>
<p><b>Heat pump</b> </p>
<p>
A water-to-air heat pump with a scroll compressor is used.
The heat pump is modelled as described by:
</p>
<p>
H. Jin. <i>Parameter estimation based models of water source heat pumps.
</i>PhD Thesis. Oklahoma State University. Stillwater, Oklahoma, USA. 2012.
</p>
<p>
with air instead of water blowing through the evaporator. Air condensation is
therefore neglected. The model parameters are obtained by calibration of the heat pump model to manufacturer
performance data following the procedure explained in
<a href="https://simulationresearch.lbl.gov/modelica/releases/latest/help/Buildings_Fluid_HeatPumps_Calibration.html">
this heat pump calibration guide</a>
using manufacturer performance data from a Carrier air-to-water heat pump model 30AW015
which data can be found in
<a href="https://www.ahi-carrier.gr/el/wp-content/uploads/sites/3/2017/10/PSD-30AW_-LR-3.pdf">
this manufacturer datasheet</a>.
</p>
<p>
For more information of the heat pump model we refer to the
<a href="https://simulationresearch.lbl.gov/modelica/releases/latest/help/Buildings_Fluid_HeatPumps.html#Buildings.Fluid.HeatPumps.ScrollWaterToWater">
model documentation</a>.
</p>
<p><b>Fluid movers</b> </p>
<p>
The floor heating system circulation pump
has the default total efficiency of the pump model, which is 49 % at the time of writing
(motor and hydraulic efficiencies are separately 70 % each).
Also the fan that blows ambient air through the heat exchanger uses this default total efficiency
of 49 %.
The nominal mass flow rate of the floor heating circulation pump is of 0.5 kg/s and
the nominal pressure rise of the heat pump evaporator fan is of 0.1 kPa.
</p>

<h4>Rule-based or local-loop controllers (if included)</h4>
<p>
A baseline controller is implemented to procure comfort within the building zone.
A PI controller is tuned with the zone operative temperature as the controlled variable
and the heat pump modulation signal for compressor frequency as the control variable,
as depicted as C1 in Figure 1 and shown in Figure 2 below.
The control variable is limited between 0 and 1, and it is computed to drive the zone operative
temperature towards the zone operative temperature setpoint.  For baseline control, this setpoint is
computed as the heating comfort setpoint plus an offset
which varies depending on the occupancy schedule: during occupied periods the offset is
set to only 0.2 degrees Celsius and is meant to avoid discomfort from slight oscilations
around the setpoint; during unoccupied periods the offset is set to 5.5 degrees Celsius
and is meant to compensate for the large temperature setback used during these periods.
The latter offset prevents the need of abrubpt changes in the indoor temperature that may not
be achievable because of the large thermal inertia of the floor heating system and
which would consequently cause discomfort. All other equipment
(fan for the heat pump evaporator circuit and floor heating emission system pump)
are switched on when the heat pump
is working (modulating signal higher than 0) and switched off otherwise.  This
is depicted as controller C2 in Figure 1.

<p>
<br>
</p>

</p>
<p align=\"center\">
<img src="images/SingleZoneResidentialHydronicHeatPump_C1.png" alt=\"image\"/>
<figcaption><small>Figure 2: Controller C1.</small></figcaption>
</p>

<p>
<br>
</p>

</p>
<h3>Model IO's</h3>
<h4>Inputs</h4>
<p>The model inputs are: </p>
<ul>

<li>
<code>oveFan_u</code> [1] [min=0.0, max=1.0]: Integer signal to control the heat pump evaporator fan either on or off
</li>
<li>
<code>oveHeaPumY_u</code> [1] [min=0.0, max=1.0]: Heat pump modulating signal for compressor speed between 0 (not working) and 1 (working at maximum capacity)
</li>
<li>
<code>ovePum_u</code> [1] [min=0.0, max=1.0]: Integer signal to control the emission circuit pump either on or off
</li>
<li>
<code>oveTSet_u</code> [K] [min=278.15, max=308.15]: Zone operative temperature setpoint
</li>

</ul>
<h4>Outputs</h4>
<p>The model outputs are: </p>
<ul>

<li>
<code>reaCO2RooAir_y</code> [ppm] [min=None, max=None]: CO2 concentration in the zone
</li>
<li>
<code>reaCOP_y</code> [1] [min=None, max=None]: Heat pump COP
</li>
<li>
<code>reaPFan_y</code> [W] [min=None, max=None]: Electrical power of the heat pump evaporator fan
</li>
<li>
<code>reaPHeaPum_y</code> [W] [min=None, max=None]: Heat pump electrical power
</li>
<li>
<code>reaPPumEmi_y</code> [W] [min=None, max=None]: Emission circuit pump electrical power
</li>
<li>
<code>reaQFloHea_y</code> [W] [min=None, max=None]: Floor heating thermal power released to the zone
</li>
<li>
<code>reaQHeaPumCon_y</code> [W] [min=None, max=None]: Heat pump thermal power exchanged in the condenser
</li>
<li>
<code>reaQHeaPumEva_y</code> [W] [min=None, max=None]: Heat pump thermal power exchanged in the evaporator
</li>
<li>
<code>reaTRet_y</code> [K] [min=None, max=None]: Return water temperature from radiant floor
</li>
<li>
<code>reaTSetCoo_y</code> [K] [min=None, max=None]: Zone operative temperature setpoint for cooling
</li>
<li>
<code>reaTSetHea_y</code> [K] [min=None, max=None]: Zone operative temperature setpoint for heating
</li>
<li>
<code>reaTSup_y</code> [K] [min=None, max=None]: Supply water temperature to radiant floor
</li>
<li>
<code>reaTZon_y</code> [K] [min=None, max=None]: Zone operative temperature
</li>
<li>
<code>weaSta_reaWeaCeiHei_y</code> [m] [min=None, max=None]: Cloud cover ceiling height measurement
</li>
<li>
<code>weaSta_reaWeaCloTim_y</code> [s] [min=None, max=None]: Day number with units of seconds
</li>
<li>
<code>weaSta_reaWeaHDifHor_y</code> [W/m2] [min=None, max=None]: Horizontal diffuse solar radiation measurement
</li>
<li>
<code>weaSta_reaWeaHDirNor_y</code> [W/m2] [min=None, max=None]: Direct normal radiation measurement
</li>
<li>
<code>weaSta_reaWeaHGloHor_y</code> [W/m2] [min=None, max=None]: Global horizontal solar irradiation measurement
</li>
<li>
<code>weaSta_reaWeaHHorIR_y</code> [W/m2] [min=None, max=None]: Horizontal infrared irradiation measurement
</li>
<li>
<code>weaSta_reaWeaLat_y</code> [rad] [min=None, max=None]: Latitude of the location
</li>
<li>
<code>weaSta_reaWeaLon_y</code> [rad] [min=None, max=None]: Longitude of the location
</li>
<li>
<code>weaSta_reaWeaNOpa_y</code> [1] [min=None, max=None]: Opaque sky cover measurement
</li>
<li>
<code>weaSta_reaWeaNTot_y</code> [1] [min=None, max=None]: Sky cover measurement
</li>
<li>
<code>weaSta_reaWeaPAtm_y</code> [Pa] [min=None, max=None]: Atmospheric pressure measurement
</li>
<li>
<code>weaSta_reaWeaRelHum_y</code> [1] [min=None, max=None]: Outside relative humidity measurement
</li>
<li>
<code>weaSta_reaWeaSolAlt_y</code> [rad] [min=None, max=None]: Solar altitude angle measurement
</li>
<li>
<code>weaSta_reaWeaSolDec_y</code> [rad] [min=None, max=None]: Solar declination angle measurement
</li>
<li>
<code>weaSta_reaWeaSolHouAng_y</code> [rad] [min=None, max=None]: Solar hour angle measurement
</li>
<li>
<code>weaSta_reaWeaSolTim_y</code> [s] [min=None, max=None]: Solar time
</li>
<li>
<code>weaSta_reaWeaSolZen_y</code> [rad] [min=None, max=None]: Solar zenith angle measurement
</li>
<li>
<code>weaSta_reaWeaTBlaSky_y</code> [K] [min=None, max=None]: Black-body sky temperature measurement
</li>
<li>
<code>weaSta_reaWeaTDewPoi_y</code> [K] [min=None, max=None]: Dew point temperature measurement
</li>
<li>
<code>weaSta_reaWeaTDryBul_y</code> [K] [min=None, max=None]: Outside drybulb temperature measurement
</li>
<li>
<code>weaSta_reaWeaTWetBul_y</code> [K] [min=None, max=None]: Wet bulb temperature measurement
</li>
<li>
<code>weaSta_reaWeaWinDir_y</code> [rad] [min=None, max=None]: Wind direction measurement
</li>
<li>
<code>weaSta_reaWeaWinSpe_y</code> [m/s] [min=None, max=None]: Wind speed measurement
</li>

</ul>
<h3>Additional System Design</h3>
<h4>Lighting</h4>
<p>
No lighting model is included.
</p>
<h4>Shading</h4>
<p>
No shading model is included.
</p>
<h3>Model Implementation Details</h3>
<h4>Moist vs. dry air</h4>
<p>
The model uses moist air despite that no condensation is modelled in any of the used components.
</p>
<h4>Pressure-flow models</h4>
<p>
A simple, single circulation loop is used to model the floor heating system
as well as the air circulation through the heat pump evaporator.
</p>
<h4>Infiltration models</h4>
<p>
Fixed air infiltration corresponding to an n50 value of 10 is modelled.
</p>
<h3>Scenario Information</h3>
<h4>Time Periods</h4>
<p>
The <b>Peak Heat Day</b> (specifier for <code>/scenario</code> API is <code>'peak_heat_day'</code>) period is:
<ul>
This testing time period is a two-week test with one-week warmup period utilizing
baseline control.  The two-week period is centered on the day with the
maximum 15-minute system heating load in the year.
</ul>
<ul>
Start Time: Day 16.
</ul>
<ul>
End Time: Day 30.
</ul>
</p>
<p>
The <b>Typical Heat Day</b> (specifier for <code>/scenario</code> API is <code>'typical_heat_day'</code>) period is:
<ul>
This testing time period is a two-week test with one-week warmup period utilizing
baseline control.  The two-week period is centered on the day with
the maximum 15-minute system heating load that is closest from below to the
median of all 15-minute maximum heating loads of all days in the year.
</ul>
<ul>
Start Time: Day 108.
</ul>
<ul>
End Time: Day 122.
</ul>
</p>
<h4>Energy Pricing</h4>
<p>
All pricing scenarios include the same constant value for transmission fees and taxes
of each commodity. The used value is the typical price that household users pay
for the network, taxes and levies, as calculateed by Eurostat and obtained from:
<a href="https://eur-lex.europa.eu/legal-content/EN/TXT/PDF/?uri=CELEX:52020DC0951&from=EN">
The energy prices and costs in Europe report</a>.
For the assumed location of the test case, this value is of
0.20 EUR/kWh for electricity.
</p>
<p>
The <b>Constant Electricity Price</b> (specifier for <code>/scenario</code> API is <code>'constant'</code>) profile is:
<ul>
The constant electricity price scenario uses a constant price of 0.0535 EUR/kWh,
as obtained from the &quot;Easy Indexed&quot; deal for electricity (normal rate) in
<a href="https://www.energyprice.be/products-list/Engie">
https://www.energyprice.be/products-list/Engie</a> (accessed on June 2020).
Adding up the transmission fees and taxes, the final constant electricity price is
of 0.2535 EUR/kWh.
</ul>
</p>
<p>
The <b>Dynamic Electricity Price</b> (specifier for <code>/scenario</code> API is <code>'dynamic'</code>) profile is:
<ul>
The dynamic electricity price scenario uses a dual rate of 0.0666 EUR/kWh during
day time and 0.0383 EUR/kWh during night time, as obtained from the &quot;Easy Indexed&quot;
deal for electricity (dual rate) in <a href="https://www.energyprice.be/products-list/Engie">
https://www.energyprice.be/products-list/Engie</a> (accessed on June 2020).
The on-peak daily period takes place between 7:00 a.m. and 10:00 p.m.
The off-peak daily period takes place between 10:00 p.m. and 7:00 a.m.
Adding up the transmission fees and taxes, the final dynamic electricity prices are
of 0.2666 EUR/kWh during on-peak periods and of 0.2383 during off-peak periods.
</ul>
</p>
<p>
The <b>Highly Dynamic Electricity Price</b> (specifier for <code>/scenario</code> API is <code>'highly_dynamic'</code>) profile is:
<ul>
The highly dynamic electricity price scenario is based on the the Belgian day-ahead
energy prices as determined by the BELPEX wholescale electricity market in the year 2019.
Obtained from: <a href="https://my.elexys.be/MarketInformation/SpotBelpex.aspx">
https://my.elexys.be/MarketInformation/SpotBelpex.aspx</a>.
Notice that the same constant transmission fees and taxes of 0.20 EUR/kWh are
added up on top of these prices.
</ul>
</p>
<h4>Emission Factors</h4>
<p>
The <b>Electricity Emissions Factor</b> profile is:
<ul>
It is used a constant emission factor for electricity of 0.167 kgCO2/kWh,
which is the grid electricity emission factor reported by the Association of Issuing Bodies
(AIB) for year 2018. For reference, see:
<a href="https://www.carbonfootprint.com/docs/2019_06_emissions_factors_sources_for_2019_electricity.pdf">
https://www.carbonfootprint.com/docs/2019_06_emissions_factors_sources_for_2019_electricity.pdf</a>
</ul>
</p>
</html>
