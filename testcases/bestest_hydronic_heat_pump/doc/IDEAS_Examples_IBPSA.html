<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>IDEAS.Examples.IBPSA.SingleZoneResidentialHydronicHeatPump</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Single zone residential hydronic example using a heat pump as heating production system&quot;">
<style type="text/css">
*       { font-size: 100%; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 90%; font-family: Courier, monospace; white-space: pre; } /* For the Modelica code (in exported html). */
h4      { font-size: 100%; font-weight: bold; color: green; } 
h3      { font-size: 110%; font-weight: bold; color: green; }
h2      { font-size: 130%; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { padding: 2px; border: 1px solid #808080; vertical-align: top; }
th      { padding: 2px; border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
pre, code {font-family: "Courier New", monospace;}
pre {white-space: pre; overflow-x : hidden;}
.ModelicaDescription {font-weight: bold;} /* For the description string of the class. */
.ModelicaBaseClass {} /* For the list of base-classes at the of the description. */
.ModelicaKeyword { color: blue; font-weight: normal; font-style: normal; } /* Keywords in Modelica. */
.ModelicaComment { color: #006400;  font-weight: normal; font-style: normal;} /* All three variants of comments in Modelica.  */
.ModelicaString { color: #006400;  font-weight: normal; font-style: normal;} /* String constants. */
.ModelicaClass { color: red; font-weight: normal; font-style: normal;} /* Formatting the names of referenced classes (for base-class and components). */
.ModelicaFunction { color: red; font-weight: normal; font-style: normal;} /* Formatting for called functions. */
.ModelicaTablePackageContent { } /* The table of contents for each package. */
.ModelicaTableCrossReference { } /* The optional cross-reference table. */
.ModelicaTableInputs {} /* The table of inputs for a function. */
.ModelicaTableOutputs {} /* The table of outputs for a function. */
.ModelicaTableParameters {} /* The table of parameters for a model/block. */
.ModelicaTableConnectors {} /* The table of connectors for a model/block. */
.ModelicaTableContents {} /* The table of contents for a connector. */
.ModelicaStartAttribute { font-weight: bold; } /* The formatting used for start-attribute in the table of parameters, to separate them from parameter values. */
.ModelicaParameterTab { background-color: #c0c0c0; font-weight: bold; } /* The tab-heading in the table of parameters */
.ModelicaParameterGroup { background-color: #e0e0e0; } /* The group-heading in the table of parameters */
</style>
</head>
<body>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SingleZoneResidentialHydronicHeatPump<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="IDEAS.Examples.IBPSA.Sing6a05777ce04480f1tPumpI.png" alt="IDEAS.Examples.IBPSA.SingleZoneResidentialHydronicHeatPump" align="right" style="border: 1px solid" width="80" height="80">
<a name="IDEAS.Examples.IBPSA.SingleZoneResidentialHydronicHeatPump"></a>IDEAS.Examples.IBPSA.SingleZoneResidentialHydronicHeatPump</h2>
<p>
<span class="ModelicaDescription">Single zone residential hydronic example using a heat pump as heating production system</span>
</p>
<h3>Information</h3>

<p>
This is a single zone residential hydronic system model with an air-source 
heat pump and floor heating for WP 1.2 of IBPSA project 1. 
</p>
<h3>Building Design and Use</h3>
<h4>Architecture</h4>
<p>
This model represents a simplified residential dwelling for a family of 5 members. 
The building envelope model is based on the BESTEST case 900 test case. 
The envelope model is therefore similar to the one used in 
<a  >
IDEAS.Examples.IBPSA.SingleZoneResidentialHydronic</a> 
but it is scaled to an area that is 5 times larger. Particularly, the model consists 
of a single zone with a rectangular floor plan of 13.4 by 17.9 meters and a 
height of 2.7 m. The zone further consists of several south-oriented windows, 
which are modelled using a single window of 24 m2.
</p>
<h4>Constructions</h4>
<p><b>Exterior walls</b> </p>
<p>
The walls are modeled using 
<a  >
IDEAS.Buildings.Components.OuterWall</a> and consist of the following layers:
</p>
<table cellspacing="2" cellpadding="0" border="0" summary="Layers">
<tr>
<td><h4>Name</h4></td>
<td><h4>Thickness [m]</h4></td>
<td><h4>Thermal Conductivity [W/m-K]</h4></td>
<td><h4>Specific Heat Capacity [J/kg-K]</h4></td>
<td><h4>Density [kg/m3]</h4></td>
</tr>
<tr>
<td><p>Layer 1 (wood siding)</p></td>
<td><p>0.009</p></td>
<td><p>0.14</p></td>
<td><p>900</p></td>
<td><p>530</p></td>
</tr>
<tr>
<td><p>Layer 2 (insulation)</p></td>
<td><p>0.0615</p></td>
<td><p>0.04</p></td>
<td><p>1400</p></td>
<td><p>10</p></td>
</tr>
<tr>
<td><p>Layer 3 (concrete)</p></td>
<td><p>0.1</p></td>
<td><p>0.51</p></td>
<td><p>1000</p></td>
<td><p>1400</p></td>
</tr>
</table>
<p><b>Floor</b> </p>
<p>
The floor is modeled using 
<a  >
IDEAS.Buildings.Components.SlabOnGround</a> and consists of the following layers: 
</p>
<table cellspacing="2" cellpadding="0" border="0" summary="Layers">
<tr>
<td><h4>Name</h4></td>
<td><h4>Thickness [m]</h4></td>
<td><h4>Thermal Conductivity [W/m-K]</h4></td>
<td><h4>Specific Heat Capacity [J/kg-K]</h4></td>
<td><h4>Density [kg/m3]</h4></td>
</tr>
<tr>
<td><p>Layer 1 (roof deck)</p></td>
<td><p>0.019</p></td>
<td><p>0.14</p></td>
<td><p>900</p></td>
<td><p>530</p></td>
</tr>
<tr>
<td><p>Layer 2 (insulation)</p></td>
<td><p>0.20</p></td>
<td><p>0.02</p></td>
<td><p>1470</p></td>
<td><p>30</p></td>
</tr>
<tr>
<td><p>Layer 3 (screed)</p></td>
<td><p>0.05</p></td>
<td><p>0.6</p></td>
<td><p>840</p></td>
<td><p>1100</p></td>
</tr>
<tr>
<td><p>Layer 4 (tile)</p></td>
<td><p>0.01</p></td>
<td><p>1.4</p></td>
<td><p>840</p></td>
<td><p>2100</p></td>
</tr>
</table>
<p><b>Roof</b> </p>
<p>
The roof is modeled using 
<a  >
IDEAS.Buildings.Components.OuterWall</a> and consist of the following layers:
</p>
<table cellspacing="2" cellpadding="0" border="0" summary="Layers">
<tr>
<td><h4>Name</h4></td>
<td><h4>Thickness [m]</h4></td>
<td><h4>Thermal Conductivity [W/m-K]</h4></td>
<td><h4>Specific Heat Capacity [J/kg-K]</h4></td>
<td><h4>Density [kg/m3]</h4></td>
</tr>
<tr>
<td><p>Layer 1 (wood siding)</p></td>
<td><p>0.009</p></td>
<td><p>0.14</p></td>
<td><p>900</p></td>
<td><p>530</p></td>
</tr>
<tr>
<td><p>Layer 2 (fiber glass)</p></td>
<td><p>0.1118</p></td>
<td><p>0.04</p></td>
<td><p>840</p></td>
<td><p>12</p></td>
</tr>
<tr>
<td><p>Layer 3 (plaster board)</p></td>
<td><p>0.01</p></td>
<td><p>0.16</p></td>
<td><p>840</p></td>
<td><p>950</p></td>
</tr>
</table>
<h4>Occupancy schedules</h4>
<p>
The zone is occupied by 5 people before 7 am and after 8 pm each weekday and 
full time during weekends. 
</p>
<h4>Internal loads and schedules</h4>
<p>
There are no internal loads other than the occupants. 
</p>

<h4>Climate data</h4>
<p>
The model uses a climate file containing one year of weather data for Uccle, 
Belgium. 
</p>

<h3>HVAC System Design</h3>
<h4>Primary and secondary system designs</h4>
<p>
An air-to-water modulating heat pump of 15 kW nominal heating capacity 
extracts energy from the ambient air to heat up the floor heating emission 
system. A fan blows ambient air through the heat pump evaporator 
when the heat pump is operating.
The floor heating system injects heat between 
Layer 2 (insulation) and Layer 3 (screed), with water as 
working fluid. The floor heating mass flow rate is 0.5 kg/s when the heat pump 
is working. 
</p>

<h4>Equipment specifications and performance maps</h4>
<p><b>Heat pump</b> </p>
<p>
A water-to-air heat pump with a scroll compressor is used. 
The heat pump is modeled as described by: 
</p>
<p>
H. Jin. <i>Parameter estimation based models of water source heat pumps. 
</i>PhD Thesis. Oklahoma State University. Stillwater, Oklahoma, USA. 2012. 
</p>
<p>
with air instead of water blowing through the evaporator. Air condensation is
therefore neglected. The model parameters are obtained by calibration of the heat pump model to manufacturer 
performance data following the procedure explained in
<a href="https://simulationresearch.lbl.gov/modelica/releases/latest/help/Buildings_Fluid_HeatPumps_Calibration.html">
this heat pump calibration guide</a>
using manufacturer performance data from a Carrier air-to-water heat pump model 30AW015. 
</p>
<p>
Variable heat pump compressor speed is achieved by multiplying the full load suction volume flow rate by the 
normalized compressor speed. The power and heat transfer rates are forced to zero if the 
resulting heat pump state has higher evaporating pressure than condensing pressure. 
</p>
<p>
Parameters <code>TConMax</code> and 
<code>TEvaMin</code> are used to set an upper and lower bound for the condenser 
and evaporator temperatures. The compressor is disabled when these operating conditions are exceeded, or when the evaporator 
temperature is larger than the condenser temperature. This mimics the temperature protection of the heat pump. 
</p>
<p>
The compression process is assumed isentropic. The thermal energy of superheating is ignored in the evaluation 
of the heat transferred to the refrigerant in the evaporator. There is no subcooling. 
</p>

<p><b>Fluid movers</b> </p>
<p>
The floor heating system circulation pump  
has the default efficiency of the pump model, which is 49 % at the time of writing. 
Also the fan that blows ambient air through the heat exchanger uses this default efficiency 
of 49 %.
</p>

<h4>Rule-based or local-loop controllers (if included)</h4>
<p>
A baseline controller is implemented to procure comfort within the building zone. 
A PI controller is tuned with the indoor air temperature as the controlled variable 
and the heat pump modulation signal for compressor frequency as the control variable. 
The control variable is limited between 0 and 1, and it is computed to drive the indoor 
temperature towards a reference defined as the heating comfort set-point plus an offset 
which varies depending on the occupancy schedule: during occupied periods the offset is 
set to only 0.2 degrees Celsius and is meant to avoid discomfort from slight oscilations 
around the set-point; during unoccupied periods the offset is set to 4.5 degrees Celsius 
and is meant to compensate for the large temperature setback used during these periods. 
The latter offset prevents the need of abrubpt changes in the indoor temperature that may not 
be achievable because of the large thermal inertia of the floor heating system and 
which would consequently cause importante levels of discomfort. All other equipment 
(fan for the heat pump evaporator circuit and floor heating emission system pump) 
are slaves of the heat pump functioning, i.e. they are switched on when the heat pump 
is working (modulating signal higher than 0) and switched off otherwise. 
</p>
<h3>Model IO's</h3>
<h4>Inputs</h4>
<p>The model inputs are: </p>
<ul>
<li>
<code>oveTSetHea_u</code> [K] [min=288.15, max=296.15]: Zone operative temperature setpoint for heating
</li>
<li>
<code>oveTSetCoo_u</code> [K] [min=296.15, max=303.15]: Zone operative temperature setpoint for cooling
</li>
<li>
<code>ovePum_u</code> [1] [min=0.0, max=1.0]: Integer signal to control the stage of the emission circuit pump either on or off
</li>
<li>
<code>oveHeaPumY_u</code> [1] [min=0.0, max=1.0]: Heat pump modulating signal between 0 (not working) and 1 (working at maximum capacity)
</li>
<li>
<code>oveFan_u</code> [1] [min=0.0, max=1.0]: Integer signal to control the stage of the fan either on or off
</li>
</ul>
<h4>Outputs</h4>
<p>The model outputs are: </p>
<ul>
<li>
<code>reaQFloHea_y</code> [W] [min=None, max=None]: Floor heating thermal power released to the zone
</li>
<li>
<code>reaCOP_y</code> [1] [min=None, max=None]: Heat pump COP
</li>
<li>
<code>reaTZon_y</code> [K] [min=None, max=None]: Operative zone temperature
</li>
<li>
<code>reaTSetHea_y</code> [K] [min=None, max=None]: Zone operative temperature setpoint for heating
</li>
<li>
<code>reaPFan_y</code> [W] [min=None, max=None]: Electrical power of the fan insuflating air through the heat pump evaporator
</li>
<li>
<code>reaFan_y</code> [1] [min=None, max=None]: Control signal for fan
</li>
<li>
<code>reaCO2RooAir_y</code> [ppm] [min=None, max=None]: CO2 concentration in the zone
</li>
<li>
<code>reaPum_y</code> [1] [min=None, max=None]: Control signal for emission cirquit pump
</li>
<li>
<code>reaPPumEmi_y</code> [W] [min=None, max=None]: Emission circuit pump electrical power
</li>
<li>
<code>reaQHeaPumCon_y</code> [W] [min=None, max=None]: Heat pump thermal power exchanged in the condenser
</li>
<li>
<code>reaHeaPumY_y</code> [1] [min=None, max=None]: Block for reading the heat pump modulating signal
</li>
<li>
<code>reaPHeaPum_y</code> [W] [min=None, max=None]: Heat pump electrical power
</li>
<li>
<code>reaTSetCoo_y</code> [K] [min=None, max=None]: Zone operative temperature setpoint for cooling
</li>
<li>
<code>reaQHeaPumEva_y</code> [W] [min=None, max=None]: Heat pump thermal power exchanged in the evaporator
</li>
<li>
<code>reaTRet_y</code> [K] [min=None, max=None]: Return water temperature from emission system
</li>
<li>
<code>reaTSup_y</code> [K] [min=None, max=None]: Supply water temperature to emission system
</li>

</ul>
<h3>Additional System Design</h3>
<h4>Lighting</h4>
<p>
No lighting model is included. 
</p>
<h4>Shading</h4>
<p>
No shading model is included. 
</p>
<h3>Model Implementation Details</h3>
<h4>Moist vs. dry air</h4>
<p>
The model uses moist air despite that no condensation is modelled in any of the used components. 
</p>
<h4>Pressure-flow models</h4>
<p>
A simple, single circulation loop is used to model the floor heating system 
as well as the air circulation through the heat pump evaporator. 
</p>
<h4>Infiltration models</h4>
<p>
Fixed air infiltration corresponding to an n50 value of 10 is modelled. 
</p>
<h3>Scenario Information</h3>
<p><b>Energy Pricing</b> </p>
<p>
The <b>Constant Electricity Price</b> profile is: 
</p>
<p>
The constant electricity price scenario uses a constant price of 0.0535 EUR/kWh, 
as obtained from the &quot;Easy Indexed&quot; deal for electricity (normal rate) in 
<a href="https://www.energyprice.be/products-list/Engie">
https://www.energyprice.be/products-list/Engie</a> (accessed on June 2020). 
</p>
<p>
The <b>Dynamic Electricity Price</b> profile is: 
</p>
<p>
The dynamic electricity price scenario uses a dual rate of 0.0666 EUR/kWh during 
day time and 0.0383 EUR/kWh during night time, as obtained from the &quot;Easy Indexed&quot; 
deal for electricity (dual rate) in <a href="https://www.energyprice.be/products-list/Engie">
https://www.energyprice.be/products-list/Engie</a> (accessed on June 2020). 
The on-peak daily period takes place between 7:00 a.m. and 10:00 p.m. 
The off-peak daily period takes place between 10:00 p.m. and 7:00 a.m. 
</p>
<p>
The <b>Highly Dynamic Electricity Price</b> profile is: 
</p>
<p>
The highly dynamic electricity price scenario is based on the the Belgian day-ahead 
energy prices as determined by the BELPEX wholescale electricity market in the year 2019. 
Obtained from: <a href="https://my.elexys.be/MarketInformation/SpotBelpex.aspx">
https://my.elexys.be/MarketInformation/SpotBelpex.aspx</a> 
</p>
<p>
The <b>Gas Price</b> profile is: 
</p>
<p>
The gas price is assumed constant and equal to 0.0198 EUR/kWh as obtained from the 
&quot;Easy Indexed&quot; deal for gas <a href="https://www.energyprice.be/products-list/Engie">
https://www.energyprice.be/products-list/Engie</a> (accessed on June 2020). 
</p>
<h4>Emission Factors</h4>
<p>
The <b>Electricity Emissions Factor</b> profile is: 
</p>
<p>
It is used a constant emission factor for electricity of 0.167 kgCO2/kWh, 
which is the grid electricity emission factor reported by the Association of Issuing Bodies 
(AIB) for year 2018. For reference, see: 
<a href="https://www.carbonfootprint.com/docs/2019_06_emissions_factors_sources_for_2019_electricity.pdf">
https://www.carbonfootprint.com/docs/2019_06_emissions_factors_sources_for_2019_electricity.pdf</a> 
</p>
<p>The <b>Gas Emissions Factor</b> profile is: </p>
<p>
Based on the kgCO2 emitted per amount of natural gas burned in terms of energy content. 
It is 0.18108 kgCO2/kWh (53.07 kgCO2/milBTU). For reference, see: 
<a href="https://www.eia.gov/environment/emissions/co2_vol_mass.php">
https://www.eia.gov/environment/emissions/co2_vol_mass.php</a> 
</p>

<p><span class="ModelicaBaseClass">Extends from Modelica.Icons.Example (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>scalingFactor</td><td>Factor to scale up the model area and occupancy</td></tr>
<tr class="ModelicaParameterGroup"><td colspan="2">Setpoints</td></tr>
<tr><td>TSetCooUno</td><td>Unoccupied cooling setpoint [K]</td></tr>
<tr><td>TSetCooOcc</td><td>Occupied cooling setpoint [K]</td></tr>
<tr><td>TSetHeaUno</td><td>Unoccupied heating setpoint [K]</td></tr>
<tr><td>TSetHeaOcc</td><td>Occupied heating setpoint [K]</td></tr>
</table>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Wed Aug 12 16:00:34 2020.
</address>
</body>
</html>
